import{r as n,j as e,E as he,L as ee,A as te,_ as pe}from"./index-0d85b73b.js";const fe=()=>{const[g,u]=n.useState("generate"),[m,I]=n.useState("text"),[v,A]=n.useState(""),[E,R]=n.useState(""),[f,C]=n.useState(null),[b,re]=n.useState(""),[w,O]=n.useState(10),[p,ae]=n.useState("medium"),[Q,H]=n.useState(!1),[a,N]=n.useState(null),[d,k]=n.useState(0),[h,S]=n.useState({}),[D,q]=n.useState(0),[c,G]=n.useState(null),[B,y]=n.useState(null),[$,z]=n.useState(!1),[se,U]=n.useState(0),[L,V]=n.useState(!1),[le,T]=n.useState(!1),ne=n.useRef(null),[oe,W]=n.useState([]);n.useState(!1),n.useEffect(()=>{let t;return g==="take"&&D>0&&(t=setInterval(()=>{U(Math.floor((Date.now()-D)/1e3))},1e3)),()=>clearInterval(t)},[g,D]),n.useEffect(()=>{const t=r=>{if(g!=="take"||!a||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)return;const s=a.questions[d];switch(r.key){case" ":r.preventDefault(),_();break;case"Enter":d===a.questions.length-1&&(r.preventDefault(),Z());break;case"1":case"2":case"3":case"4":r.preventDefault();const o=parseInt(r.key)-1;s&&o<s.options.length&&K(s.id,s.options[o]);break;case"ArrowLeft":r.preventDefault(),X();break;case"ArrowRight":r.preventDefault(),_();break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[g,a,d]),n.useEffect(()=>{const t=localStorage.getItem("quizHistory");t&&W(JSON.parse(t))},[]);const de=t=>{const r=[{...t,topic:(a==null?void 0:a.topic)||"Quiz",date:new Date().toISOString()},...oe].slice(0,10);W(r),localStorage.setItem("quizHistory",JSON.stringify(r))},M=t=>{const r=Math.floor(t/60),s=t%60;return`${r}:${s.toString().padStart(2,"0")}`},P=t=>{t.preventDefault(),t.stopPropagation(),t.type==="dragenter"||t.type==="dragover"?T(!0):t.type==="dragleave"&&T(!1)},ie=t=>{t.preventDefault(),t.stopPropagation(),T(!1);const r=t.dataTransfer.files;r&&r[0]&&J(r[0])},J=t=>{t&&t.type==="application/pdf"?(C(t),y(null)):y(new te("Please select a valid PDF file","VALIDATION_ERROR"))},ce=t=>{var s;const r=(s=t.target.files)==null?void 0:s[0];r&&J(r)},xe=async()=>{y(null),N(null),H(!0);try{let t="";if(m==="url"&&E.trim()){const o=new FormData;o.append("url",E),b&&o.append("topic",b),o.append("num_questions",w.toString());const l=await fetch("http://localhost:4000/quiz/v2/generate-from-url-fast",{method:"POST",body:o});if(!l.ok)throw new Error(`URL processing failed: ${l.status}`);const i=await l.json();if(i.success&&i.questions){const j={id:`quiz-${Date.now()}`,questions:i.questions.map((x,F)=>({id:x.id||`q${F+1}`,question:x.question,options:x.options,correctAnswer:x.correctAnswer||x.options[0],explanation:x.explanation,difficulty:x.difficulty||p})),topic:i.topic||b||"URL Quiz",difficulty:i.difficulty||p,metadata:i.metadata};N(j),u("take"),k(0),S({}),q(Date.now());return}else throw new Error("Invalid URL response format")}if(m==="text")t=v;else if(f){const o=new FormData;o.append("file",f),b&&o.append("topic",b),o.append("difficulty",p),o.append("num_questions",w.toString());const l=await fetch("http://localhost:4000/quiz/v2/generate-from-pdf-fast",{method:"POST",body:o});if(!l.ok)throw new Error(`PDF processing failed: ${l.status}`);const i=await l.json();if(i.success&&i.questions){const j={id:`quiz-${Date.now()}`,questions:i.questions.map((x,F)=>({id:x.id||`q${F+1}`,question:x.question,options:x.options,correctAnswer:x.correctAnswer||x.options[0],explanation:x.explanation,difficulty:x.difficulty||p})),topic:i.topic||b||"PDF Quiz",difficulty:i.difficulty||p,metadata:i.metadata};N(j),u("take"),k(0),S({}),q(Date.now());return}else throw new Error("Invalid PDF response format")}const r=await fetch("http://localhost:4000/quiz/v2/generate-fast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,topic:b||"Study Material",num_questions:w})});if(!r.ok)throw new Error(`API error: ${r.status}`);const s=await r.json();if(s.success&&s.questions){const o={id:`quiz-${Date.now()}`,questions:s.questions.map((l,i)=>({id:l.id||`q${i+1}`,question:l.question,options:l.options,correctAnswer:l.correctAnswer||l.options[0],explanation:l.explanation,difficulty:l.difficulty||p})),topic:s.topic||b||"Generated Quiz",difficulty:s.difficulty||p,metadata:s.metadata};N(o),u("take"),k(0),S({}),q(Date.now())}else throw new Error("Invalid response format")}catch(t){console.error("Quiz generation error:",t),y(new te(t instanceof Error?t.message:"Failed to generate quiz","GENERATION_ERROR"))}finally{H(!1)}},Y=()=>m==="text"?v.trim().length>=50:f!==null,K=(t,r)=>{S(s=>({...s,[t]:r})),z(!1)},ge=()=>{!c||!a||pe(()=>import("./pdfGenerator-a2c54bb4.js").then(t=>t.p),["assets/pdfGenerator-a2c54bb4.js","assets/index-0d85b73b.js","assets/index-119b1d0a.css"]).then(({generateQuizReportPDF:t})=>{t(c,a)})},_=()=>{a&&d<a.questions.length-1&&(k(t=>t+1),z(!1))},X=()=>{d>0&&(k(t=>t-1),z(!1))},Z=async()=>{if(!a)return;V(!0);const t=Math.round((Date.now()-D)/1e3);let r=0;const s=[];a.questions.forEach(l=>{const i=h[l.id]||"",j=i===l.correctAnswer;j&&r++,s.push({questionId:l.id,question:l.question,userAnswer:i,correctAnswer:l.correctAnswer,isCorrect:j,explanation:l.explanation})});const o={score:r,totalQuestions:a.questions.length,percentage:Math.round(r/a.questions.length*100),answers:h,timeSpent:t,detailedResults:s};await new Promise(l=>setTimeout(l,1e3)),G(o),de(o),u("results"),V(!1)},ue=()=>{N(null),k(0),S({}),G(null),U(0),q(0),u("generate"),z(!1)},me=t=>t>=80?"text-green-600 dark:text-green-400":t>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",be=t=>"";return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl mb-4 shadow-lg",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9.504 1.132a1 1 0 01.992 0l1.75 1a1 1 0 11-.992 1.736L10 3.152l-1.254.716a1 1 0 11-.992-1.736l1.75-1zM5.618 4.504a1 1 0 01-.372 1.364L5.016 6l.23.132a1 1 0 11-.992 1.736L3 7.723V8a1 1 0 01-2 0V6a.996.996 0 01.52-.878l1.734-.99a1 1 0 011.364.372zm8.764 0a1 1 0 011.364-.372l1.734.99A.996.996 0 0118 6v2a1 1 0 11-2 0v-.277l-1.254.145a1 1 0 11-.992-1.736L14.984 6l-.23-.132a1 1 0 01-.372-1.364zm-7 4a1 1 0 011.364-.372L10 8.848l1.254-.716a1 1 0 11.992 1.736L11 10.723V12a1 1 0 11-2 0v-1.277l-1.246-.855a1 1 0 01-.372-1.364zM3 11a1 1 0 011 1v1.277l1.246.855a1 1 0 11-.992 1.736l-1.75-1A1 1 0 012 14v-2a1 1 0 011-1zm14 0a1 1 0 011 1v2a1 1 0 01-.504.868l-1.75 1a1 1 0 11-.992-1.736L16 13.277V12a1 1 0 011-1zm-9.618 5.504a1 1 0 011.364-.372l.254.145V16a1 1 0 112 0v.277l.254-.145a1 1 0 11.992 1.736l-1.735.992a.995.995 0 01-1.022 0l-1.735-.992a1 1 0 01-.372-1.364z",clipRule:"evenodd"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"AI Quiz Generator"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Transform your study materials into personalized quizzes with AI"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-1 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>u("generate"),className:`px-6 py-3 rounded-lg font-semibold text-sm ${g==="generate"?"bg-blue-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Generate Quiz"}),e.jsx("button",{onClick:()=>u("take"),disabled:!a,className:`px-6 py-3 rounded-lg font-semibold text-sm ${g==="take"&&a?"bg-green-600 text-white shadow-md":a?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":"text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,children:"Take Quiz"}),e.jsx("button",{onClick:()=>u("results"),disabled:!c,className:`px-6 py-3 rounded-lg font-semibold text-sm ${g==="results"&&c?"bg-teal-600 text-white shadow-md":c?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":"text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"}`,children:"Results"})]})}),B&&e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsx(he,{error:B,onRetry:()=>y(null),className:"rounded-2xl"})}),g==="generate"&&e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Create Your Quiz"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Upload content and let AI generate personalized questions"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Quiz Topic (Optional)"}),e.jsx("input",{type:"text",value:b,onChange:t=>re(t.target.value),placeholder:"e.g., Machine Learning Basics, Photosynthesis, World War II...",className:"w-full p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-gray-700"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Difficulty Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"easy",label:"Easy",color:"green"},{value:"medium",label:"Medium",color:"blue"},{value:"hard",label:"Hard",color:"red"}].map(({value:t,label:r,color:s})=>e.jsx("button",{onClick:()=>ae(t),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${p===t?s==="green"?"bg-green-600 text-white":s==="blue"?"bg-blue-600 text-white":"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:r},t))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Choose Input Method"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("button",{onClick:()=>{I("text"),C(null),R(""),y(null)},className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="text"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Text Input"}),e.jsx("button",{onClick:()=>{I("pdf"),A(""),R(""),y(null)},className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="pdf"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"PDF Upload"}),e.jsx("button",{onClick:()=>{I("url"),A(""),C(null),y(null)},className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="url"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"URL Input"})]})]}),m==="text"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Study Content"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:v,onChange:t=>{const r=t.target.value;A(r);const s=r.trim().split(/\s+/).length,o=Math.min(20,Math.max(5,Math.floor(s/100)));O(o)},placeholder:"Paste your study material here... The more detailed content you provide, the better questions AI can generate. Include definitions, examples, processes, and key concepts.",className:"w-full h-64 p-8 border-2 border-gray-200 dark:border-gray-600 rounded-2xl resize-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300 text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 text-lg leading-relaxed bg-white dark:bg-gray-700 shadow-inner"}),e.jsxs("div",{className:"absolute bottom-6 right-6 flex items-center space-x-4",children:[e.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-medium ${v.length>=50?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:[v.length," / 50 minimum"]}),e.jsx("div",{className:`w-3 h-3 rounded-full ${v.length>=50?"bg-green-400":"bg-gray-300 dark:bg-gray-600"}`})]})]})]}),m==="pdf"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Upload PDF Document"}),e.jsx("div",{className:`border-2 border-dashed rounded-3xl p-16 text-center transition-all duration-300 ${le?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":f?"border-green-400 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,onDragEnter:P,onDragLeave:P,onDragOver:P,onDrop:ie,children:f?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:e.jsx("svg",{className:"w-12 h-12 text-green-500 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("p",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300 mb-3",children:f.name}),e.jsxs("p",{className:"text-lg text-gray-500 dark:text-gray-400 mb-6",children:[(f.size/1024/1024).toFixed(2)," MB ‚Ä¢ Ready to process"]}),e.jsx("button",{onClick:()=>C(null),className:"px-6 py-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-xl hover:bg-red-200 dark:hover:bg-red-800 transition-all duration-300 font-bold transform hover:scale-105",children:"Remove File"})]}):e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-blue-500 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("p",{className:"text-3xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:"Drag and drop your PDF here"}),e.jsx("p",{className:"text-xl text-gray-500 dark:text-gray-400 mb-8",children:"or click to browse files"}),e.jsxs("label",{className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold cursor-pointer hover:bg-blue-700 transition-all",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Choose PDF File",e.jsx("input",{ref:ne,type:"file",accept:".pdf",className:"hidden",onChange:ce})]}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-4",children:"PDF files only, max 10MB"})]})})]}),m==="url"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Enter Web URL"}),e.jsx("input",{type:"url",value:E,onChange:t=>R(t.target.value),placeholder:"https://example.com/article",className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-lg"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"üì∞ Supports: Articles, Wikipedia, Documentation, Blog posts"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Number of Questions: ",w]}),e.jsx("input",{type:"range",min:"5",max:"20",value:w,onChange:t=>O(parseInt(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"5 (Quick)"}),e.jsx("span",{children:"10 (Balanced)"}),e.jsx("span",{children:"20 (Comprehensive)"})]})]}),e.jsx("button",{onClick:xe,disabled:Q||!Y(),className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${Q||!Y()?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:Q?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ee,{size:"sm",color:"text-white",className:"mr-3"}),e.jsx("span",{children:"Generating Quiz with AI..."})]}):"Generate AI-Powered Quiz"}),(a==null?void 0:a.metadata)&&e.jsxs("div",{className:"mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-2xl",children:[e.jsx("h3",{className:"text-lg font-bold text-blue-800 dark:text-blue-300 mb-4",children:"Content Analysis Complete"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a.metadata.content_analyzed.word_count}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Words"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a.metadata.total_questions}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Questions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[a.metadata.content_analyzed.estimated_reading_time,"m"]}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Read Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[Math.round(a.metadata.estimated_completion_time),"m"]}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300",children:"Quiz Time"})]})]})]})]})}),g==="take"&&a&&e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a.topic}),e.jsxs("div",{className:"flex items-center gap-3 bg-blue-600 px-5 py-2 rounded-lg shadow-lg",children:[e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),e.jsx("div",{className:"text-2xl font-bold text-white",children:M(se)})]})]}),e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${(d+1)/a.questions.length*100}%`}})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.questions.map((t,r)=>e.jsx("button",{onClick:()=>k(r),className:`w-10 h-10 rounded-lg font-semibold transition-all ${r===d?"bg-blue-600 text-white shadow-lg scale-110":h[a.questions[r].id]?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 border-2 border-green-500":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:r+1},r))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:["Question ",d+1," of ",a.questions.length]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[e.jsx("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600",children:"1-4"}),e.jsx("span",{children:"Select"}),e.jsx("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600",children:"Space"}),e.jsx("span",{children:"Next"}),e.jsx("kbd",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600",children:"‚Üê‚Üí"}),e.jsx("span",{children:"Navigate"})]})]})]}),a.questions[d]&&e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 p-8 rounded-2xl mb-8",children:e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-relaxed",children:a.questions[d].question})}),e.jsx("div",{className:"space-y-4",children:a.questions[d].options.map((t,r)=>{const s=a.questions[d].id,o=h[s]===t,l=String.fromCharCode(65+r);return e.jsx("button",{onClick:()=>K(s,t),className:`w-full p-6 text-left rounded-2xl border-2 transition-all duration-300 transform hover:scale-[1.02] ${o?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 shadow-lg":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500 bg-white dark:bg-gray-700 hover:shadow-md"}`,children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${o?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:l}),e.jsx("span",{className:"text-xl text-gray-900 dark:text-white flex-1",children:t})]})},r)})}),h[a.questions[d].id]&&a.questions[d].explanation&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("button",{onClick:()=>z(!$),className:"px-6 py-3 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded-xl hover:bg-yellow-200 dark:hover:bg-yellow-800 transition-all duration-300 font-medium",children:[$?"Hide":"Show"," Explanation"]}),$&&e.jsx("div",{className:"mt-4 p-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl border-l-4 border-yellow-400",children:e.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 text-lg",children:a.questions[d].explanation})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:X,disabled:d===0,className:`px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 transform ${d===0?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105"}`,children:"‚Üê Previous"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["Answered: ",Object.keys(h).length," /"," ",a.questions.length]}),e.jsx("div",{className:"flex space-x-2",children:a.questions.map((t,r)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${h[a.questions[r].id]?"bg-green-400":r===d?"bg-blue-400":"bg-gray-300 dark:bg-gray-600"}`},r))})]}),d<a.questions.length-1?e.jsx("button",{onClick:_,className:"px-8 py-4 bg-blue-500 text-white rounded-2xl font-bold text-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105",children:"Next ‚Üí"}):e.jsx("button",{onClick:Z,disabled:L||Object.keys(h).length===0,className:`px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 transform ${L||Object.keys(h).length===0?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 shadow-lg"}`,children:L?e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{size:"sm",color:"text-white",className:"mr-2"}),"Submitting..."]}):"Submit Quiz üéØ"})]})]})}),g==="results"&&c&&a&&e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"text-8xl mb-6",children:be(c.percentage)}),e.jsx("h2",{className:"text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Quiz Complete!"}),e.jsxs("div",{className:`text-6xl font-bold mb-4 ${me(c.percentage)}`,children:[c.percentage,"%"]}),e.jsxs("p",{className:"text-2xl text-gray-600 dark:text-gray-300",children:["You scored ",c.score," out of"," ",c.totalQuestions," questions correctly"]}),e.jsxs("p",{className:"text-lg text-gray-500 dark:text-gray-400 mt-2",children:["Time taken: ",M(c.timeSpent)]}),e.jsx("button",{onClick:ge,className:"mt-6 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"üì• Download Report"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-2xl text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2",children:c.score}),e.jsx("div",{className:"text-green-700 dark:text-green-300 font-medium",children:"Correct Answers"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-2xl text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:M(c.timeSpent)}),e.jsx("div",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"Total Time"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-2xl text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:[Math.round(c.timeSpent/c.totalQuestions),"s"]}),e.jsx("div",{className:"text-purple-700 dark:text-purple-300 font-medium",children:"Avg per Question"})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Detailed Results"}),e.jsx("div",{className:"space-y-6",children:c.detailedResults.map((t,r)=>e.jsxs("div",{className:`p-6 rounded-2xl border-2 ${t.isCorrect?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white flex-1",children:[r+1,". ",t.question]}),e.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-bold ${t.isCorrect?"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200":"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200"}`,children:t.isCorrect?"‚úì Correct":"‚úó Incorrect"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Your answer:"," "]}),e.jsx("span",{className:t.isCorrect?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:t.userAnswer||"No answer selected"})]}),!t.isCorrect&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Correct answer:"," "]}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:t.correctAnswer})]}),t.explanation&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsxs("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:["Explanation:"," "]}),e.jsx("span",{className:"text-blue-700 dark:text-blue-200",children:t.explanation})]})]})]},t.questionId))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:ue,className:"px-8 py-4 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[e.jsx("span",{className:"mr-2",children:"üîÑ"}),"Create New Quiz"]}),e.jsxs("button",{onClick:()=>u("take"),className:"px-8 py-4 bg-green-600 text-white rounded-xl font-bold text-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[e.jsx("span",{className:"mr-2",children:"üîÅ"}),"Retake Quiz"]})]})]})})]})})};export{fe as default};
